{% extends 'base.html' %}
{% block title %}Set New Password â€” FinanceTracker{% endblock %}
{% block content %}
<div class="auth-wrapper">
  <div class="auth-card">
    <div class="auth-logo"><i class="bi bi-lock"></i></div>
    <h2 class="auth-title">Set New Password</h2>
    {% if validlink %}
    <form method="post">
      {% csrf_token %}
      {% for field in form %}
      <div class="mb-3">
        <label class="form-label fw-medium">{{ field.label }}</label>
        {{ field }}
        {% if field.errors %}<div class="invalid-feedback d-block">{{ field.errors.0 }}</div>{% endif %}
      </div>
      {% endfor %}
      <button type="submit" class="btn btn-primary w-100">Set Password</button>
    </form>
    {% else %}
    <div class="alert alert-danger">This reset link is invalid or has expired.</div>
    <a href="{% url 'password_reset' %}" class="btn btn-primary">Request new link</a>
    {% endif %}
  </div>
</div>
{% endblock %}
